# –û—Ç—á—ë—Ç: –£–ª—É—á—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –∫–æ—à–µ–ª—å–∫–æ–≤

## üéØ –ó–∞–¥–∞—á–∞
–£–ª—É—á—à–∏—Ç—å —Ä–∞–∑–¥–µ–ª –∫–æ—à–µ–ª—å–∫–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–π —Å—Ö–µ–º–µ (citypass / cafe_wallet) —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–æ–∏—Å–∫–æ–º –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ (/admin/wallets)

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `app/admin/wallets/WalletsFilters.tsx`
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –∫–æ—à–µ–ª—å–∫–∞ (CityPass / Cafe Wallet)
- –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë" –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –°—á—ë—Ç—á–∏–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç URL search params –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ç–∏–ø–∞ –∫–æ—à–µ–ª—å–∫–∞ ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ ‚Äî —Å–Ω–∏–º–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä
- –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é (–∏–º—è/—Ç–µ–ª–µ—Ñ–æ–Ω)
- –§–∏–ª—å—Ç—Ä—ã –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è (–º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å CityPass –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `app/admin/wallets/WalletStatsCards.tsx`
- 5 –∫–∞—Ä—Ç–æ—á–µ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏–µ–π:
  - **–í—Å–µ–≥–æ –∫–æ—à–µ–ª—å–∫–æ–≤** (–æ–±—â–∏–π —Å—á—ë—Ç—á–∏–∫)
  - **CityPass** (—Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç + –ø—Ä–æ—Ü–µ–Ω—Ç + –±–∞–ª–∞–Ω—Å)
  - **Cafe Wallet** (–∑–µ–ª—ë–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç + –ø—Ä–æ—Ü–µ–Ω—Ç + –±–∞–ª–∞–Ω—Å)
  - **–û–±—â–∏–π –±–∞–ª–∞–Ω—Å** (–∏–∑—É–º—Ä—É–¥–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç)
  - **–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–∞–Ω—Å** (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç)

**–û–±–Ω–æ–≤–ª–µ–Ω–∞:** `app/admin/wallets/page.tsx`
- –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤–µ—Å—å –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö)
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤ CityPass vs Cafe Wallet

### 3. –†—É—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî —á—ë—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

**–û–±–Ω–æ–≤–ª–µ–Ω–∞:** `app/admin/wallets/[userId]/page.tsx`
- –ó–∞–º–µ–Ω—ë–Ω –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –±–ª–æ–∫ —Å ‚ö†Ô∏è –∏–∫–æ–Ω–∫–æ–π
- **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã:** RPC `add_wallet_transaction` deprecated –≤ –º–∏–≥—Ä–∞—Ü–∏–∏
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:** —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
- **–°–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** –¥–ª—è backend-–∞–≥–µ–Ω—Ç–∞:
  - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ wallet_id
  - –¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π admin_credit/admin_debit
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–æ–ø–µ—Ä–∞—Ü–∏–π
- –§–æ—Ä–º–∞ –ø–æ–∫–∞–∑–∞–Ω–∞ –≤ disabled —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (–±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ)

### 4. –£–ª—É—á—à–µ–Ω–∏—è UX

**–°–ø–∏—Å–æ–∫ –∫–æ—à–µ–ª—å–∫–æ–≤:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–∫–∞–∫ –∏ –±—ã–ª–æ)
- –ë–µ–π–¥–∂–∏ —Ç–∏–ø–æ–≤ –∫–æ—à–µ–ª—å–∫–æ–≤ (CP / Cafe) —Å —Ü–≤–µ—Ç–∞–º–∏
- –°—É–º–º–∞—Ä–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –§–∏–ª—å—Ç—Ä-–ø–∞–Ω–µ–ª—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (1/3/5 –∫–æ–ª–æ–Ω–æ–∫)

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π:**
- –¶–≤–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ (—Å–∏–Ω–∏–π/–∑–µ–ª—ë–Ω—ã–π)
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ CityPass –∏ Cafe Wallet
- –û–±—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ë–µ–π–¥–∂ —Ç–∏–ø–∞ –∫–æ—à–µ–ª—å–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `/app/admin/wallets/WalletsFilters.tsx` (137 —Å—Ç—Ä–æ–∫)
2. `/app/admin/wallets/WalletStatsCards.tsx` (129 —Å—Ç—Ä–æ–∫)

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `/app/admin/wallets/page.tsx` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —É–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
2. `/app/admin/wallets/[userId]/page.tsx` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä—É—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

### –ù–µ —Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:
- `/lib/supabase/queries/wallets.ts` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—É–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–π —Å—Ö–µ–º–µ)
- `/app/admin/wallets/actions.ts` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (RPC —É–∂–µ deprecated)
- `/app/admin/wallets/[userId]/AddTransactionForm.tsx` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Ñ–æ—Ä–º–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è UI)

## üöÄ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

‚úÖ –°–ø–∏—Å–æ–∫ –∫–æ—à–µ–ª—å–∫–æ–≤ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º  
‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –∫–æ—à–µ–ª—å–∫–∞ (CityPass / Cafe Wallet)  
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Ç–µ–ª–µ—Ñ–æ–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—Ç–∏–ø + –ø–æ–∏—Å–∫)  
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º CityPass vs Cafe Wallet  
‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ—à–µ–ª—å–∫–∞–º–∏  
‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤  
‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –±–µ–π–¥–∂–∏ –∏ —Ü–≤–µ—Ç–æ–≤–∞—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—è  

## ‚è∏Ô∏è –ß—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç backend-RPC

‚ùå **–†—É—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ)**  
–ü—Ä–∏—á–∏–Ω–∞: RPC `add_wallet_transaction` —É–¥–∞–ª—ë–Ω –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ 20260205000003  

**–¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç backend-–∞–≥–µ–Ω—Ç–∞:**
```sql
-- –ü—Ä–∏–º–µ—Ä –Ω–æ–≤–æ–π RPC —Ñ—É–Ω–∫—Ü–∏–∏ (backend –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å)
CREATE OR REPLACE FUNCTION admin_wallet_operation(
  p_wallet_id UUID,
  p_amount INTEGER,
  p_type TEXT, -- 'admin_credit' –∏–ª–∏ 'admin_debit'
  p_description TEXT,
  p_admin_user_id UUID
) RETURNS JSONB AS $$
BEGIN
  -- 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è debit
  -- 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ wallet_transactions
  -- 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ balance_credits
  -- 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∞
  -- 5. –í–æ–∑–≤—Ä–∞—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

**–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è RPC:**
- –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É –≤ `/app/admin/wallets/[userId]/page.tsx`
- –û–±–Ω–æ–≤–∏—Ç—å `/app/admin/wallets/actions.ts` –¥–ª—è –≤—ã–∑–æ–≤–∞ –Ω–æ–≤–æ–π RPC
- –£–¥–∞–ª–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** ~350
- **–ù–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 2
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 2
- **–ù–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** 0
- **Backend –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 0 (—Å–æ–≥–ª–∞—Å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º)

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
- **CityPass:** —Å–∏–Ω–∏–π (#3B82F6) ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **Cafe Wallet:** –∑–µ–ª—ë–Ω—ã–π (#10B981) ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞—Ñ–µ
- **–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ:** —Ü–∏–Ω–∫/—Å–µ—Ä—ã–π (#71717A)
- **–ë–∞–ª–∞–Ω—Å:** –∏–∑—É–º—Ä—É–¥–Ω—ã–π (#059669)
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (#9333EA)
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:** —è–Ω—Ç–∞—Ä–Ω—ã–π (#F59E0B)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI:
- –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –≤–∞–∂–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- –ë–µ–π–¥–∂–∏ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- –¢–µ–Ω–∏ –¥–ª—è depth effect
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ (1/2/3/5 –∫–æ–ª–æ–Ω–æ–∫)
- Disabled states —Å opacity

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
‚úÖ –õ–∏–Ω—Ç–µ—Ä (ESLint) ‚Äî 0 –æ—à–∏–±–æ–∫  
‚úÖ TypeScript —Ç–∏–ø—ã ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã  
‚úÖ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏  
‚úÖ –§–∏–ª—å—Ç—Ä + –ø–æ–∏—Å–∫ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è  
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Äî –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ö  

### –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
- [ ] –†–∞–±–æ—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–∏—Å–∫ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∞–º–∏
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- [ ] Responsive –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑ –º–∞—Å—Å–æ–≤—ã—Ö —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–≤** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ—á–µ—á–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–∑–¥–µ–ª–µ wallets
2. **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π backend** ‚Äî –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. **–ë–µ–∑ real payments** ‚Äî —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ disabled —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
4. **–ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (citypass/cafe_wallet)

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è backend-–∞–≥–µ–Ω—Ç–∞)

–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä—É—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

1. –°–æ–∑–¥–∞—Ç—å RPC `admin_wallet_operation` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `wallet_id`
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
4. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è debit
5. –í–µ—Ä–Ω—É—Ç—å JSONB —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º –∫–æ—à–µ–ª—å–∫–æ–º –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∞–¥–º–∏–Ω-–∞–≥–µ–Ω—Ç —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ñ–æ—Ä–º—É –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ backend.

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–î–∞—Ç–∞:** 2026-02-14  
**–í–µ—Ä—Å–∏—è:** Admin Panel v1.2  
**–ê–≤—Ç–æ—Ä:** admin-–∞–≥–µ–Ω—Ç
